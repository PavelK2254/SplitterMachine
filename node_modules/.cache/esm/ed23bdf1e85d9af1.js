let PlcResultModel,getSingleOrder;_e85‍.x([["parseOrderData",()=>parseOrderData]]);_e85‍.w("../Models/plcResultModel",[["PlcResultModel",["PlcResultModel"],function(v){PlcResultModel=v}]]);_e85‍.w("../Controller/ordersFetcher",[["getSingleOrder",["getSingleOrder"],function(v){getSingleOrder=v}]]);


       async function parseOrderData(socketString) {
    return new Promise(function(resolve, reject) {
        var barcodeObject;
        try {
            if (isJson(socketString)) {
                barcodeObject = JSON.parse(socketString)
                barcodeObject.forEach(element => {
                    getSingleOrder(element.tracingNum).then((result) => {
                        resolve(new PlcResultModel("true", result.toString()))
                    }).catch((err) => {
                        reject(new PlcResultModel("false", "Error: " + err));
                    })
                });
            } else {
                reject(new PlcResultModel("false", "Invalid JSON Object: " + socketString));
            }

        } catch (error) {
            _e85‍.g.console.log(error);
            reject(error);
        }
    })
}

function isJson(str) {
    try {
        JSON.parse(str);
    } catch (e) {
        return false;
    }
    return true;
}