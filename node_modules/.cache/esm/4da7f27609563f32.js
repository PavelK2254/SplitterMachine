let getProductsJSON,OrderModel,init,addNewOrderToDB;_095‍.x([["getOrders",()=>getOrders]]);_095‍.w("../Networking/dataRepository",[["getProductsJSON",["getProductsJSON"],function(v){getProductsJSON=v}]]);_095‍.w("../Models/orderModel",[["OrderModel",["OrderModel"],function(v){OrderModel=v}]]);_095‍.w("../DAO/dbAccessManager",[["init",["init"],function(v){init=v}],["addNewOrderToDB",["addNewOrderToDB"],function(v){addNewOrderToDB=v}]]);


var currentPage = '1';
var ordersGetter = getProductsJSON(currentPage);
var ordersCollection = [];



       function getOrders() {

    init().then(function(result) {
        ordersGetter.then(function(result) {
            result.products.forEach(element => {
                console.log(`${element.id} ${element.id} ${element.barcode} 0, 1, ${element.longName}`);
                ordersCollection.push({ orderNumber: element.id, barcode: element.barcode, numberOfUnits: 0, status: 1, productName: element.longName })
            });
            addNewOrdersToDB(ordersCollection).then(function(result) {
                _095‍.g.console.log(result);

            }, function(err) {
                _095‍.g.console.error(err);
            })
        }, function(err) {
            _095‍.g.console.log(err);

        })
    }, function(err) {
        _095‍.g.console.log(err);
    });



}